<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Realistic F1 Racer - Easy Road</title>
<style>
  body {
    margin: 0;
    background: #000;
    font-family: Arial;
    display: flex;
    justify-content: center;
    align-items: center;
    height: 100vh;
    color: white;
  }
  canvas {
    background: skyblue;
    border: 4px solid white;
  }
</style>
</head>
<body>

<canvas id="game" width="900" height="500"></canvas>

<script>
const canvas = document.getElementById("game");
const ctx = canvas.getContext("2d");

const TRACK_LENGTH = 10000; 
const MAX_SPEED = 8;

let raceStarted = false;
let raceOver = false;
let countdown = 240; 
let roadCurve = 0;
let targetCurve = 0;

const keys = {};
document.addEventListener("keydown", e => keys[e.key] = true);
document.addEventListener("keyup", e => keys[e.key] = false);

const player = {
  x: 0,
  vx: 0,
  speed: 0,
  dist: 0,
  angle: 0
};

const aiCars = [];
const colors = ["#007bff", "#28a745", "#ffc107", "#fd7e14"];
for (let i = 0; i < 4; i++) {
  aiCars.push({
    lane: (i - 1.5) * 140,
    dist: Math.random() * 400,
    speed: 4.8 + Math.random(),
    color: colors[i]
  });
}

function update() {
  if (raceOver) return;

  // Countdown
  if (!raceStarted) {
    countdown--;
    if (countdown <= 0) raceStarted = true;
    return;
  }

  // Road curves
  if (Math.random() < 0.01)
    targetCurve = (Math.random() - 0.5) * 0.3; // smaller curves = easier

  roadCurve += (targetCurve - roadCurve) * 0.02;

  // Player speed
  if (keys["ArrowUp"]) player.speed += 0.12;
  if (keys["ArrowDown"]) player.speed -= 0.2;
  player.speed *= 0.98;
  player.speed = Math.max(0, Math.min(player.speed, MAX_SPEED));

  // Steering & drift
  const steerPower = 0.25; // easier control
  const grip = 0.92;
